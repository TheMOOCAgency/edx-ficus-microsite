<%page expression_filter="h"/>
<%inherit file="main.html" />
<%namespace name='static' file='static_content.html'/>
<%!
from django.utils.translation import ugettext as _
from django.core.urlresolvers import reverse

from openedx.core.djangolib.markup import HTML, Text
%>
<%
register_course_id = static.get_value('course_id')
org = static.get_value('domain_prefix')
css = '/media/microsite/{}/auto/css/index.css'.format(org)
%>
<link rel="stylesheet" type="text/css" href="${static.url(css)}" />
<style>
.header-information {
  margin: 80px;
}
.header-information-title {
  color: white !important;
  text-transform: uppercase;
  font-weight: bold;
}
.header-information-text {
  color: white !important;
  padding: 15px;
  text-align: justify;

}
</style>
<main id="main" aria-label="Content" tabindex="-1">
    <section class="home">
      <header>
        <div class="outer-wrapper">
          <div class="title">
            <div class="heading-group">
              % if homepage_overlay_html:
                ${homepage_overlay_html | n, decode.utf8}
              % else:
                  ## Translators: 'Open edX' is a registered trademark, please keep this untranslated. See http://open.edx.org for more information.
                  <h1>${Text(_(u"Welcome to the Open edX{registered_trademark} platform!")).format(registered_trademark=HTML("<sup style='font-size: 65%'>&reg;</sup>"))}</h1>
                  ## Translators: 'Open edX' is a registered trademark, please keep this untranslated. See http://open.edx.org for more information.
                  <p>${_("It works! This is the default homepage for this Open edX instance.")}</p>
              % endif
            </div>
            % if settings.FEATURES.get('ENABLE_COURSE_DISCOVERY'):
              <div class="course-search">
                <form method="get" action="/courses">
                  <label><span class="sr">${_("Search for a course")}</span>
                    <input class="search-input" name="search_query" type="text" placeholder="${_("Search for a course")}"></input>
                  </label>
                  <button class="search-button" type="submit">
                    <span class="icon fa fa-search" aria-hidden="true"></span><span class="sr">${_("Search")}</span>
                  </button>
                </form>
              </div>
            % endif

          </div>

          % if show_homepage_promo_video:
            <a href="#video-modal" class="media" rel="leanModal">
              <div class="hero">
                <div class="play-intro"></div>
              </div>
            </a>
          % endif
        </div>

        <div class="header-information">
          <h2 class="header-information-title">Un nouveau module est disponible !</h2>
          <p class="header-information-text">
            Lorem ipsum, dolor sit amet consectetur adipisicing elit. Beatae aliquam, est similique eius labore praesentium quo voluptatum impedit dolore minima alias recusandae sunt sit sed neque, illum voluptas! Rerum, dolores.
            Tenetur odit maiores voluptatum nulla dolor architecto laudantium eaque impedit? Voluptate optio est corporis eaque sunt exercitationem ipsam facere nisi aspernatur temporibus ipsa, laboriosam sit! Architecto eveniet nemo neque voluptatem?
            Animi debitis impedit ipsam aut perferendis, facilis soluta at magni, facere iste tenetur asperiores aspernatur nulla quas unde ullam maiores alias corporis, rem modi nemo. Veritatis et recusandae error provident.
          </p>

        </div>

      </header>
      <%include file="${courses_list}" />

    </section>
</main>

% if show_homepage_promo_video:
  <section id="video-modal" class="modal home-page-video-modal video-modal">
    <div class="inner-wrapper">
      <iframe title="YouTube Video" width="640" height="360" src="//www.youtube.com/embed/${homepage_promo_video_youtube_id}?showinfo=0" frameborder="0" allowfullscreen></iframe>
    </div>
  </section>
% endif

<%block name="js_extra">
   <script type="text/javascript">
      $(window).load(function() {
         if(getParameterByName('next')) {
              $('#login').trigger("click");
         }
      })
   </script>
</%block>

% if show_signup_immediately is not UNDEFINED:
  ## NOTE: This won't work in production, because anonymous views are cached, so it will
  ## show either with or without this extra js for 3 minutes at a time.
<script type="text/javascript">
  $(window).load(function() {$('#signup_action').trigger("click");});
</script>
% endif

% if register_course_id is not None:
<script>
$(".btn-neutral").each(function(){
 $(this).attr('href','/register?course_id=${register_course_id}&enrollment_action=enroll');
});
$(".btn-login").each(function(){
 $(this).attr('href','login?next=%2Faccount%2Ffinish_auth%3F${register_course_id}%26enrollment_action%3Denroll%26next%3D%252Fdashboard');
});

</script>
% endif
